# Phase 02: Extensions (Built-in Tools + Tests)

## Goal

Extend the AGI core with built-in read-only tools and a minimal test suite so the agent can act on the filesystem and the codebase is verifiable.

## Deliverables (done)

### 1. Built-in tools (`src/agi/action/builtin_tools.py`)

- **read_file(path, base?)**: Read file contents; path relative to base (default cwd). Safe path handling (no escape). Max read size configurable.
- **list_dir(path?, base?)**: List directory entries; path default `.`. Safe path handling.
- **register_builtins(registry, base_dir?)**: Register read_file and list_dir on a ToolRegistry. Agent uses this at init (base_dir = cwd).

### 2. Tests (`tests/`)

- **test_perceive.py**: Normalize whitespace, source, coercion.
- **test_memory.py**: Semantic add/query, episodic append/recent, working bounded turns, ConcreteStore recall/push_turn.
- **test_core.py**: Agent tick returns response, tick() function, episode storage.
- **test_builtin_tools.py**: read_file/list_dir success and failure, register_builtins + execute_tool.

Run: `PYTHONPATH=src python -m pytest tests/ -v`

### 3. Dependencies

- **requirements.txt**: pytest>=7.0 (python >= 3.9).

## Next (optional)

- LLM-backed reasoner/planner (pluggable).
- Vector/semantic memory backend.
- More tools (write_file, run_command with sandbox).
- Phase 2 orchestrate run to update project docs.
